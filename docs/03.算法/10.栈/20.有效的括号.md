---
title:  有效的括号
date: 2022-03-20 13:49:13
permalink: /pages/c8d9ba/
categories:
  - 算法
  - 栈
tags:
  - 算法
  - 栈
---

给定一个只包括 '('，')'，'{'，'}'，'['，']' 的字符串 s ，判断字符串是否有效。

有效字符串需满足：

1. 左括号必须用相同类型的右括号闭合。

2. 左括号必须以正确的顺序闭合。

示例1：

```js
输入：s = "([)]"
输出：false
```

示例2：
```js
输入：s = "{[]}"
输出：true
```
## 解答

如果你觉得题目太难，可以先理解[判断字符串括号是否合法](1.判断字符串括号是否合法.md)的完整解答，以及扩展知识。

规律：配对消除。

边界：

- 字符串为空

- 字符串为奇数个

```js
function isValid(s) {
  // 处理边界
  if (!s) {
    return false;
  }
  const len = s.length;
  if (len % 2 === 1) {
    // 长度为奇数，不可能是一个有效的合法字符
    return false;
  }
  // 消除法的主要核心逻辑:
  const stack = [];
  const isEmpty = () => stack.length === 0;
  for (let i = 0; i < len; i++) {
    const item = s[i];
    if (item === "(" || item === "{" || item === "[") {
      // 入栈
      stack.push(item);
    } else if (item === ")") {
      // 出栈
      const result = stack.pop();
      if (!result || result !== "(") {
        return false;
      }
    } else if (item === "}") {
      // 出栈
      const result = stack.pop();
      if (!result || result !== "{") {
        return false;
      }
    } else if (item === "]") {
      // 出栈
      const result = stack.pop();
      if (!result || result !== "[") {
        return false;
      }
    }
  }

  return isEmpty();
}
```

leetcode: [有效括号](https://leetcode-cn.com/problems/valid-parentheses/)