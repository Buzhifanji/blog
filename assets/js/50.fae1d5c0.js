(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{377:function(s,t,a){"use strict";a.r(t);var e=a(3),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("这是深入理解计算机系统的第一章，这一章是对计算机系统知识的概括，这其中会引入一些专业术语，但并不会深入解释这些术语。书本就是我们学习知识的引入路，先让读者窥探整片森林，以防迷失在某一知识细节中。所以这一章很重要，应该好好读一读。")]),s._v(" "),t("p",[s._v("另外关于这本书籍，B站有 UP 主专门讲解视频 "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1cD4y1D7uR/?spm_id_from=333.788&vd_source=db32dbb771562f27b0d0eac9992d81bb",target:"_blank",rel:"noopener noreferrer"}},[s._v("B站up 九曲阑干: 【合集】CSAPP-深入理解计算机系统​"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("这一章以打印“hello world”为例，讲述程序在计算机系统的生命周期，并介绍计算机系统的主要概念和主题。")]),s._v(" "),t("div",{staticClass:"language-cpp line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cpp"}},[t("code",[t("span",{pre:!0,attrs:{class:"token macro property"}},[t("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),t("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("include")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("<stdio.h>")])]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("printf")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello, world!\\n"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h2",{attrs:{id:"_1-1-信息就是位-上下文"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-信息就是位-上下文"}},[s._v("#")]),s._v(" 1.1 信息就是位 + 上下文")]),s._v(" "),t("p",[t("strong",[s._v("位")]),s._v("是计算机最小单位，其值由 0 和 1 组成，又称为"),t("strong",[s._v("比特")]),s._v("。8 位被组织成一组，称为"),t("strong",[s._v("字节")]),s._v("。")]),s._v(" "),t("p",[s._v("程序最终执行的时候，最终都会转为二进制，而转换的依据就是"),t("strong",[s._v("上下文")]),s._v("。")]),s._v(" "),t("p",[s._v("在大部分操作系统中使用 "),t("a",{attrs:{href:"https://habaijian.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("ASCII"),t("OutboundLink")],1),s._v("来表示文本字符，以 ASCII 作为上下文，那么 ‘#’ 字符对应的字节整数值为35，‘i’ 字符对应的字节整数值为105........")]),s._v(" "),t("h2",{attrs:{id:"_1-2-程序的翻译"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-程序的翻译"}},[s._v("#")]),s._v(" 1.2 程序的翻译")]),s._v(" "),t("p",[s._v("执行 hello.c 的命令")]),s._v(" "),t("div",{staticClass:"language-liunx line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("gcc -o hello hello.c\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("这条命令通过"),t("em",[s._v("编译器驱动程序")]),s._v("，把源文件转化成"),t("em",[s._v("可执行目标文件")]),s._v("，这个过程一共分为四个阶段。")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Buzhifanji/imgs-store/blog/20220705135948.png",alt:"程序翻译四阶段"}})]),s._v(" "),t("ul",[t("li",[t("p",[s._v("预处理")]),s._v(" "),t("p",[s._v("读取系统头文件的内容，并插入到程序文本，得到另外一个程序。")]),s._v(" "),t("p",[s._v("例如 读取 hello.c 中的第一行 "),t("code",[s._v("#include <stdio.h>")]),s._v("头文件的内容，插入到程序文本，得到一个 hello.i 文件")])]),s._v(" "),t("li",[t("p",[s._v("编译器")]),s._v(" "),t("p",[s._v("把文本文件的内容翻译成汇编语言")]),s._v(" "),t("p",[s._v("把 hello.i 翻译成 hello.s")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("main: \n  2 subq $8, \n  %rsp 3 movl $.LCO, \n  %edi 4 call puts 5 movl $0, \n  %eax 6 addq $8, \n  %rsp 7 ret\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("汇编")]),s._v(" "),t("p",[s._v("把汇编语言翻译成机器指令，把这些指令会被打包成*可重定位目标程序（relocatable object program）*的格式，得到 hello.o，这是一个二进制文件。")])]),s._v(" "),t("li",[t("p",[s._v("链接器")]),s._v(" "),t("p",[s._v("合并程序内部调用的函数，得到一个可执行目标文件的内容。")]),s._v(" "),t("p",[s._v("在 hello 程序内部调用了 printf 函数，这个函数是 C 编译器提供的标准库函数。它会被预编译成 printf.o 文件。链接要做的事情，就是把 hello.o 和 printf.o 合并成 hello "),t("em",[s._v("可执行文件")]),s._v("。")])])]),s._v(" "),t("h2",{attrs:{id:"_1-3-了解编译系统如何工作的益处"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-了解编译系统如何工作的益处"}},[s._v("#")]),s._v(" 1.3 了解编译系统如何工作的益处")]),s._v(" "),t("ul",[t("li",[s._v("优化程序性能")]),s._v(" "),t("li",[s._v("理解链接时出现的错误")]),s._v(" "),t("li",[s._v("避免安全漏洞")])]),s._v(" "),t("h2",{attrs:{id:"_1-4-程序的执行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-程序的执行"}},[s._v("#")]),s._v(" 1.4 程序的执行")]),s._v(" "),t("p",[s._v("如何运行 hello 可执行程序，以 Unix 系统为例子：")]),s._v(" "),t("ol",[t("li",[s._v("打开 shell 程序")]),s._v(" "),t("li",[s._v("在 shell 中输入相应可执行程序的文件名")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("linux"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" \n  ./hello \n  hello, world \nlinux"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("shell 程序是一个命令解释器，它输出一个提示符，等待输入命令行，然后执行这个命令\n如果该命令的第一个单词不是内置的 shell 命令，那么 shell 就会假设这是一个可执行文件的名字，它将加载并运行这个文件。")]),s._v(" "),t("h3",{attrs:{id:"_1-4-1-系统的硬件组成"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-1-系统的硬件组成"}},[s._v("#")]),s._v(" 1.4.1 系统的硬件组成")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Buzhifanji/imgs-store/blog/20220705145808.png",alt:"一个典型系统的硬件组成"}})])])}),[],!1,null,null,null);t.default=n.exports}}]);