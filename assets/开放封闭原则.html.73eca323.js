import{_ as n}from"./plugin-vue_export-helper.21dcd24c.js";import{o as s,c as a,e as p}from"./app.ced6cf92.js";const t={},e=p(`<p>\u5F00\u53D1\u5C01\u95ED\u539F\u5219: \u7C7B\u5BF9\u6269\u5C55\u662F\u5F00\u653E\u7684\uFF0C\u4F46\u5BF9\u4FEE\u6539\u662F\u5C01\u95ED\u7684\u3002</p><p>\u4EE5\u4E0B\u9762\u4F8B\u5B50\u6765\u89E3\u91CA\u8BF4\u660E\uFF1A</p><p>\u5B9E\u73B0\u4E00\u4E2A\u521B\u5EFA\u4EA7\u54C1\uFF0C\u5E76\u6709\u4E00\u4E2A\u8FC7\u6EE4\u529F\u80FD\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> Color <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">red</span><span class="token operator">:</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">green</span><span class="token operator">:</span> <span class="token string">&quot;green&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">blue</span><span class="token operator">:</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> Size <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">small</span><span class="token operator">:</span> <span class="token string">&quot;small&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">medium</span><span class="token operator">:</span> <span class="token string">&quot;medium&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">large</span><span class="token operator">:</span> <span class="token string">&quot;large&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u4EA7\u54C1 model</span>
<span class="token keyword">class</span> <span class="token class-name">Product</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> color<span class="token punctuation">,</span> size</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> size<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> apple <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Product</span><span class="token punctuation">(</span><span class="token string">&quot;Apple&quot;</span><span class="token punctuation">,</span> Color<span class="token punctuation">.</span>green<span class="token punctuation">,</span> Size<span class="token punctuation">.</span>small<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> tree <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Product</span><span class="token punctuation">(</span><span class="token string">&quot;Tree&quot;</span><span class="token punctuation">,</span> Color<span class="token punctuation">.</span>green<span class="token punctuation">,</span> Size<span class="token punctuation">.</span>large<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> house <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Product</span><span class="token punctuation">(</span><span class="token string">&quot;House&quot;</span><span class="token punctuation">,</span> Color<span class="token punctuation">.</span>blue<span class="token punctuation">,</span> Size<span class="token punctuation">.</span>large<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u5B9A\u4E49\u4EA7\u54C1</span>
<span class="token keyword">const</span> products <span class="token operator">=</span> <span class="token punctuation">[</span>apple<span class="token punctuation">,</span> tree<span class="token punctuation">,</span> house<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6DFB\u52A0\u4E00\u4E2A\u6839\u636E\u989C\u8272\u8FC7\u6EE4\u4EA7\u54C1\u529F\u80FD</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u4EA7\u54C1\u8FC7\u6EE4\u5668</span>
<span class="token keyword">class</span> <span class="token class-name">ProductFilter</span> <span class="token punctuation">{</span>
  <span class="token function">filterByColor</span><span class="token punctuation">(</span><span class="token parameter">products<span class="token punctuation">,</span> color</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> products<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">p</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> p<span class="token punctuation">.</span>color <span class="token operator">===</span> color<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// test</span>
<span class="token comment">// \u67E5\u627E\u7EFF\u8272\u4EA7\u54C1</span>
<span class="token keyword">let</span> pf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ProductFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Green products (old):</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> p <span class="token keyword">of</span> pf<span class="token punctuation">.</span><span class="token function">filterByColor</span><span class="token punctuation">(</span>products<span class="token punctuation">,</span> Color<span class="token punctuation">.</span>green<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string"> * </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>p<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> is green</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u65B0\u7684\u9700\u6C42\uFF0C\u9700\u8981\u5B9E\u73B0\u6839\u636E\u5C3A\u5BF8\u8FC7\u6EE4\u4EA7\u54C1</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">ProductFilter</span> <span class="token punctuation">{</span>
  <span class="token function">filterByColor</span><span class="token punctuation">(</span><span class="token parameter">products<span class="token punctuation">,</span> color</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> products<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">p</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> p<span class="token punctuation">.</span>color <span class="token operator">===</span> color<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">filterBySize</span><span class="token punctuation">(</span><span class="token parameter">products<span class="token punctuation">,</span> size</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> products<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">p</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> p<span class="token punctuation">.</span>size <span class="token operator">===</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD9\u4E2A\u65F6\u5019\u5F0A\u7AEF\u5C31\u6765\u4E86\uFF0C\u6BCF\u6DFB\u52A0\u4E00\u4E2A\u65B0\u8FC7\u6EE4\u9700\u6C42\uFF0C\u6211\u4EEC\u5C31\u8981\u5728<code>ProductFilter</code>\u4E2D\u6DFB\u52A0\u65B0\u7684\u65B9\u6CD5\u3002\u8FD9\u91CC\u5C31\u8FDD\u80CC\u4E86<strong>\u5F00\u53D1\u5C01\u95ED\u539F\u5219</strong>\uFF0C\u56E0\u4E3A\u65B0\u589E\u529F\u80FD\u65F6\u5019\uFF0C\u6211\u4EEC\u9700\u8981\u5728<code>ProductFilter</code>\u4E2D\u65B0\u589E\u65B9\u6CD5\u3002</p><p>\u73B0\u5728\u53EA\u6709\u4E24\u79CD\u4EA7\u54C1\u89C4\u683C\uFF1A\u989C\u8272\u548C\u5C3A\u5BF8\uFF0C\u8FC7\u6EE4\u65B9\u6CD5\u548C\u4EA7\u54C1\u89C4\u683C\u606F\u606F\u76F8\u5173\uFF0C\u6DFB\u52A0\u89C4\u77E9\uFF0C\u5C31\u4F1A\u5BFC\u81F4\u8FC7\u6EE4\u65B9\u6CD5\u5448\u6307\u6570\u589E\u957F\u3002</p><p>\u90A3\u4E48\u8BE5\u5982\u4F55\u5904\u7406\u4E0A\u8FF0\u95EE\u9898\u5462\uFF1F</p><p>\u5B9A\u4E49\u4EA7\u54C1\u89C4\u683C\u7C7B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">ColorSpecification</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">color</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// \u68C0\u67E5\u989C\u8272\u662F\u5426\u5339\u914D</span>
  <span class="token function">isSatisfied</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> item<span class="token punctuation">.</span>color <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>color<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">SizeSpecification</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">size</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> size<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// \u68C0\u67E5\u5C3A\u5BF8\u662F\u5426\u5339\u914D</span>
  <span class="token function">isSatisfied</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> item<span class="token punctuation">.</span>size <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6539\u8FDB\u8FC7\u6EE4\u7C7B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">BetterFilter</span> <span class="token punctuation">{</span>
  <span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">items<span class="token punctuation">,</span> spec</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> items<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> spec<span class="token punctuation">.</span><span class="token function">isSatisfied</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// test</span>
<span class="token keyword">let</span> bf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BetterFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Green products (new):</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> p <span class="token keyword">of</span> bf<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>products<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ColorSpecification</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>green<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string"> * </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>p<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> is green</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6DFB\u52A0\u89C4\u8303\u770B\u8D77\u6765\u6709\u70B9\u7E41\u7410\uFF0C\u4F46\u662F\u5982\u679C\u4F60\u9700\u8981\u4E00\u4E2A\u65B0\u7684\u89C4\u8303\uFF0C\u4F60\u4E0D\u9700\u8981\u4FEE\u6539\u4EFB\u4F55\u73B0\u6709\u7684\u7C7B\uFF0C\u53EA\u9700\u8981\u6DFB\u52A0\u4E00\u4E2A\u65B0\u7684\u89C4\u8303\u5373\u53EF\u3002</p><p>\u73B0\u5728\u53C8\u6709\u4E86\u65B0\u7684\u9700\u6C42\uFF0C\u9700\u8981\u8FC7\u6EE4\u51FA\u540C\u65F6\u6EE1\u8DB3\u591A\u4E2A\u89C4\u683C\uFF0C\u8BE5\u5982\u4F55\u5B9E\u73B0\uFF1F</p><p>\u5B9A\u4E49\u7EC4\u5408\u5668\u7C7B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">AndSpecification</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>specs</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>specs <span class="token operator">=</span> specs<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">isSatisfied</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>specs<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span><span class="token function">isSatisfied</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// test</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Large and green products: </span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> spec <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AndSpecification</span><span class="token punctuation">(</span>
  <span class="token keyword">new</span> <span class="token class-name">ColorSpecification</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>green<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">new</span> <span class="token class-name">SizeSpecification</span><span class="token punctuation">(</span>Size<span class="token punctuation">.</span>large<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> p <span class="token keyword">of</span> bf<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>products<span class="token punctuation">,</span> spec<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string"> * </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>p<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> is large and green</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>ProductFilter</code>\u8FDD\u80CC\u4E86\u5F00\u53D1\u5C01\u95ED\u539F\u5219\uFF0C\u6DFB\u52A0\u65B0\u7684\u529F\u80FD\u7684\u65F6\u5019\uFF0C\u5C31\u9700\u8981\u4FEE\u6539\u5B83\u3002</p><p>\u4F46<code>BetterFilter</code>\u5374\u6DFB\u52A0\u65B0\u7684\u529F\u80FD\u7684\u65F6\u5019\uFF0C\u5C31\u4E0D\u9700\u8981\u81EA\u8EAB\uFF0C\u53EA\u9700\u8981\u6DFB\u52A0\u6269\u5C55\u5BF9\u8C61\u5373\u53EF\u3002\u8FD9\u5C31\u662F<strong>\u5F00\u53D1\u5C01\u95ED\u539F\u5219</strong>\u3002</p>`,21),o=[e];function c(l,i){return s(),a("div",null,o)}var k=n(t,[["render",c],["__file","\u5F00\u653E\u5C01\u95ED\u539F\u5219.html.vue"]]);export{k as default};
